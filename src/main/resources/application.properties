server.port=8080

# Schema/Metadata Configuration
# Ontology model selection: schema (收费系统) or powergrid (电网规划)
# Can be overridden by ONTOLOGY_MODEL environment variable
ontology.model=${ONTOLOGY_MODEL:schema}
schema.file.path=./ontology/${ontology.model}.yaml
# System schema file path (optional, for workspace management)
schema.system.file.path=${SCHEMA_SYSTEM_FILE_PATH:./ontology/schema-system.yaml}

# Data Storage
data.root.path=./data
# Storage type: file (local file system), neo4j, or hybrid (relational DB + Neo4j)
# hybrid mode: detailed data in relational DB, links and key fields in Neo4j
storage.type=${STORAGE_TYPE:hybrid}

# Hybrid Storage Configuration (only used when storage.type=hybrid)
# Neo4j fields configuration (comma-separated list of field names to store in Neo4j)
# Format: storage.neo4j.fields.{objectType}=id,name,display_name
# Example:
# storage.neo4j.fields.person=id,name,display_name,avatar
# storage.neo4j.fields.company=id,name,industry,logo
# Default fields stored in Neo4j: id, name, display_name
storage.neo4j.fields.default=id,name,display_name
storage.neo4j.fields.workspace=id,name,display_name,description,object_types,link_types
storage.neo4j.fields.database=id,name,type,host,port,database_name,username,password,database_id
storage.neo4j.fields.table=id,name,database_id,schema_name,description
storage.neo4j.fields.column=id,name,table_id,table_name,data_type,nullable,is_primary_key,description
storage.neo4j.fields.mapping=id,object_type,table_id,table_name,column_property_mappings,primary_key_column
# Logging
log.level=info
log.file=./logs/app.log

# Web Static Files
# Option 1: External path (for development)
web.static.path=./web/dist
# Option 2: Use src/main/resources/static (for production, see README)
# web.static.path=classpath:/static

# LLM Configuration (for Natural Language Query)
# 敏感信息请配置在项目根目录的 .env 文件中
# Priority: .env file > application.properties > default values
llm.api.key=${LLM_API_KEY:}
llm.api.url=${LLM_API_URL:https://api.deepseek.com/v1/chat/completions}
llm.model=${LLM_MODEL:deepseek-chat}
llm.temperature=0.1
llm.max.retries=3
llm.timeout=30000

# Alternative: Use OpenAI API
# llm.api.url=https://api.openai.com/v1/chat/completions
# llm.model=gpt-4

# Database Configuration (read from .env file or environment variables)
# 敏感信息请配置在项目根目录的 .env 文件中
db.host=${DB_HOST:localhost}
db.port=${DB_PORT:3306}
db.name=${DB_NAME:}
db.user=${DB_USER:}
db.password=${DB_PASSWORD:}
db.type=${DB_TYPE:mysql}

# Neo4j Configuration (read from .env file or environment variables)
# 敏感信息请配置在项目根目录的 .env 文件中
neo4j.uri=${NEO4J_URI:bolt://localhost:7687}
neo4j.user=${NEO4J_USER:neo4j}
neo4j.password=${NEO4J_PASSWORD:}

# Dome Service Integration Configuration
# 敏感信息请配置在项目根目录的 .env 文件中
# dome-datasource 服务地址
dome.datasource.base-url=${DOME_DATASOURCE_BASE_URL:}

# dome-scheduler 服务地址
dome.scheduler.base-url=${DOME_SCHEDULER_BASE_URL:}

# Dome-Auth 认证配置（根据第三方接入规范自动获取 token）
# 方式一：自动获取 token（推荐）
# 配置认证服务地址（从 dome.datasource.base-url 或 dome.scheduler.base-url 中提取基础URL）
# 如果未配置，将尝试从 dome.datasource.base-url 中提取
dome.auth.base-url=${DOME_AUTH_BASE_URL:}
# 客户端凭证（请在 .env 文件中配置）
dome.auth.client-id=${DOME_AUTH_CLIENT_ID:}
dome.auth.client-secret=${DOME_AUTH_CLIENT_SECRET:}
# 登录凭证（请在 .env 文件中配置）
dome.auth.username=${DOME_AUTH_USERNAME:}
dome.auth.password=${DOME_AUTH_PASSWORD:}
# 租户ID（可选，如果系统开启租户模式）
dome.auth.tenant-id=${DOME_AUTH_TENANT_ID:}
# 是否启用自动认证（默认：true）
dome.auth.enabled=${DOME_AUTH_ENABLED:true}

# 方式二：使用静态 token（如果配置了静态 token，将优先使用静态 token，不会自动获取）
# 格式：bearer <token>，token 是动态变化的，需要定期更新
# 请在 .env 文件中配置 DOME_AUTH_TOKEN
# 如果同时配置了静态 token 和自动认证，将优先使用静态 token
dome.auth.token=${DOME_AUTH_TOKEN:}

# 默认目标数据源配置（当目标数据源不存在时使用）
# 可以通过环境变量 DEFAULT_TARGET_DATASOURCE_ID 设置
dome.default.target.datasource.id=${DEFAULT_TARGET_DATASOURCE_ID:}

