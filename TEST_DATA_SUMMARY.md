# 测试数据创建总结

## 已创建的测试数据

基于省中心联网收费业务实体关系图的 Ontology，已成功创建测试数据。

### 实体数据

#### 路段业主 (2个)
- 江苏交通控股有限公司
- 浙江交通投资集团

#### 收费公路 (2个)
- 沪宁高速公路 (G42, K0+000 - K274+000)
- 沪杭高速公路 (G60, K0+000 - K151+000)

#### 收费站 (3个)
- 南京收费站 (NJ001, K0+500)
- 上海收费站 (SH001, K274+000)
- 杭州收费站 (HZ001, K151+000)

#### ETC门架 (3个)
- 沪宁高速K50门架 (G42-K50, K50+000)
- 沪宁高速K150门架 (G42-K150, K150+000)
- 沪杭高速K75门架 (G60-K75, K75+000)

#### 收费单元 (3个)
- 南京-镇江段 (NJ-ZJ, 65.5公里)
- 镇江-常州段 (ZJ-CZ, 68.2公里)
- 上海-嘉兴段 (SH-JX, 75.8公里)

#### 车道 (3个)
- NJ001-01 (ETC车道)
- NJ001-02 (MTC车道)
- SH001-01 (ETC车道)

#### 标识点 (3个)
- G42-K50-001 (ETC门架类型)
- G42-K150-001 (ETC门架类型)
- NJ001-01-001 (车道类型)

#### 车辆 (2个)
- 苏A12345 (小型客车, 车主: 张三)
- 沪B67890 (小型客车, 车主: 李四)

#### 通行介质 (2个)
- ETC001234567890 (ETC卡, 2023-01-15发行)
- OBU987654321098 (OBU, 2023-03-20发行)

#### 交易流水 (3个)
- 交易1: 2024-12-19 10:30, 25.50元, ETC扣费
- 交易2: 2024-12-19 10:35, 18.20元, ETC扣费
- 交易3: 2024-12-19 11:00, 32.80元, MTC收费

#### 车辆通行路径 (2个)
- 路径1: 2024-12-19 10:00-11:30, 已完成
- 路径2: 2024-12-19 14:00-15:20, 已完成

#### 通行拟合路径 (2个)
- 拟合路径1: 2024-12-19 11:35, 成功, 274.0公里
- 拟合路径2: 2024-12-19 15:25, 成功, 151.0公里

#### 拆分明细 (3个)
- 明细1: 12.75元, 50%比例
- 明细2: 12.75元, 50%比例
- 明细3: 9.10元, 50%比例

### 关系数据

#### 管理关系 (2个)
- 江苏交通控股有限公司 → 沪宁高速公路
- 浙江交通投资集团 → 沪杭高速公路

#### 包含关系 (9个)
- 收费公路包含收费站: 3个
- 收费公路包含ETC门架: 3个
- 收费公路包含收费单元: 3个
- 收费站包含车道: 3个

#### 代收关系 (2个)
- ETC门架代收收费单元: 2个

#### 继承关系 (3个)
- ETC门架继承标识点: 2个
- 车道继承标识点: 1个

#### 持有关系 (2个)
- 车辆持有通行介质: 2个（带绑定时间和状态）

#### 生成关系 (3个)
- 标识点生成交易流水: 3个（带生成时间）

#### 关联交易关系 (3个)
- 车辆关联交易流水: 3个

#### 汇聚为关系 (3个)
- 交易流水汇聚为车辆通行路径: 3个

#### 拟合为关系 (2个)
- 车辆通行路径拟合为通行拟合路径: 2个（带拟合时间）

#### 拆分为关系 (3个)
- 通行拟合路径拆分为拆分明细: 3个

#### 关联拆分明细关系 (3个)
- 收费单元关联拆分明细: 3个

## 数据关系图

```
路段业主
  └─管理→ 收费公路
           ├─包含→ 收费站 ─包含→ 车道 ─继承→ 标识点
           ├─包含→ ETC门架 ─继承→ 标识点
           │         └─代收→ 收费单元 ─关联→ 拆分明细
           └─包含→ 收费单元

车辆 ─持有→ 通行介质
  └─关联交易→ 交易流水 ←生成─ 标识点
                └─汇聚为→ 车辆通行路径 ─拟合为→ 通行拟合路径 ─拆分为→ 拆分明细
```

## 使用方法

### 查看数据

1. **通过前端界面**：
   - 访问 http://localhost:8080
   - 在左侧导航栏选择对象类型查看实例列表
   - 点击实例查看详情
   - 访问图形视图查看关系网络

2. **通过 API**：
   ```bash
   # 查看车辆列表
   curl http://localhost:8080/api/v1/instances/车辆
   
   # 查看关系
   curl http://localhost:8080/api/v1/links/持有
   ```

### 重新创建数据

如果需要重新创建测试数据，运行：

```bash
python3 create_test_data.py
```

注意：如果数据已存在，会创建重复数据。建议先清理数据目录或使用不同的命名空间。

## 数据特点

1. **完整的业务场景**：模拟了完整的收费业务流程
2. **关系完整性**：所有定义的关系类型都有对应的实例
3. **数据真实性**：使用了真实的业务场景数据（沪宁高速、沪杭高速等）
4. **时间序列**：交易流水和路径有时间顺序关系

